- name: Append data to CSV file with separate columns
  hosts: localhost
  tasks:
    - name: Run a command to get some output (example task)
      command: echo "value_from_command"
      register: X

    - name: Define another variable
      set_fact:
        var2: "value2"

    - name: Append data to CSV file
      copy:
        content: "{{ X.stdout }},{{ var2 }}\n"
        dest: /path/to/yourfile.csv
        remote_src: yes
        mode: '0644'
      delegate_to: localhost
