(echo "From: you@example.com"; echo "To: recipient@example.com"; echo "Subject: Your Excel Report"; echo "MIME-Version: 1.0"; echo "Content-Type: multipart/mixed; boundary=\"boundary\""; echo; echo "--boundary"; echo "Content-Type: text/plain"; echo; echo "Please find the attached Excel file."; echo "--boundary"; echo "Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet; name=\"yourfile.xlsx\""; echo "Content-Disposition: attachment; filename=\"yourfile.xlsx\""; echo "Content-Transfer-Encoding: base64"; echo; base64 /path/to/yourfile.xlsx; echo "--boundary--") | 

/usr/sbin/sendmail -t


kubernetes.namespace_name:"prj-cpt-tmx-dev" AND 
kubernetes.pod_name:/cpt-fusion-tmx-viewer-.*/ AND 
message:/([0-9]+\.[0-9]+s)|([5-9][0-9]{2}\.[0-9]+ms)/
kubernetes.namespace_name:"prj-cpt-tmx-dev" AND 
kubernetes.pod_name:/cpt-fusion-tmx-viewer-.*/ AND 
message:"GET"

Aggregation and Ratio in Grafana
	1.	Set Up Queries:
	•	Query A: Use the first query for long-running requests.
	•	Query B: Use the second query for GET requests.
	2.	Add Metrics:
	•	Use the Count metric to count logs for both queries.
	3.	Transformation:
	•	Apply the Math transformation in Grafana to calculate the ratio: A / B.
Additional Notes:
	•	Ensure your Elasticsearch indices are configured to include kubernetes.namespace_name, kubernetes.pod_name, and message fields.
	•	Use Grafana’s $__interval or $__auto_interval variables in panel settings to dynamically adjust the time range.

Let me know if you need assistance setting up the queries in Grafana!

